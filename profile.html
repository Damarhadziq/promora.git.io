<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Promora</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./assets/css/profil.css">
    <link
      rel="shortcut icon"
      href="./assets/img/logo.png"
      type="image/x-icon"
    />
     <!-- --------- UNICONS ---------- -->
    <link rel="stylesheet" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css"/>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#7A5AF8',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="./assets/css/profile.css" />
    <link
      rel="shortcut icon"
      href="./assets/img/logo.png"
      type="image/x-icon"
    />
    <!-- --------- UNICONS ---------- -->
    <link
      rel="stylesheet"
      href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css"
    />
</head>
<body>
    <!-- Navbar -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex justify-between items-center">
          <a href="index.html" class="flex items-center space-x-2">
            <div class="flex items-center space-x-2">
              <img
                class="h-8 flex items-center justify-center"
                src="./assets/img/Container.png"
                alt=""
              />
            </div>
          </a>

          <div class="hidden md:flex space-x-8">
            <a
              href="index.html"
              class="text-gray-700 hover:text-purple-600 font-medium"
              >Home</a
            >
            <a
              href="explore.html"
              class="text-gray-700 hover:text-purple-600 font-medium"
              >Explore</a
            >
            <a href="about.html" class="text-gray-700 hover:text-purple-600 font-medium"
              >About</a
            >
          </div>

          <div class="flex items-center space-x-4">
            <!-- Keranjang -->
            <a href="cart.php">
              <img
                src="./assets/img/cart.png"
                alt="Cart"
                class="h-6 w-6 hover:opacity-80"
              />
            </a>
             </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Notification -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle text-green-500 text-xl"></i>
        <span id="notificationText">Data berhasil disimpan!</span>
    </div>

    <!-- Main Content -->
    <div class="pt-24 pb-12 min-h-screen">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Left Sidebar - Profile Card -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl card-shadow overflow-hidden">
                        <!-- Header gradient -->
                        <div class="gradient-bg h-32"></div>
                        
                        <!-- Profile Image -->
                        <div class="px-6 pb-6 -mt-16">
                            <div class="profile-image-wrapper">
                                <img id="profileImage" 
                                    src="https://via.placeholder.com/150?text=User" 
                                    alt="Profile" 
                                    class="profile-image">
                                <label for="imageUpload" class="upload-overlay">
                                    <i class="fas fa-camera text-white"></i>
                                </label>
                                <input type="file" 
                                    id="imageUpload" 
                                    class="hidden" 
                                    accept="image/*" 
                                    onchange="handleImageUpload(event)">
                            </div>
                            
                            <!-- User Info -->
                            <div class="text-center mt-4">
                                <h2 class="text-2xl font-bold text-gray-800" id="displayName">Sarah Amanda</h2>
                                <p class="text-gray-500" id="displayEmail">sarah.amanda@email.com</p>
                                <div class="flex justify-center gap-2 mt-3">
                                    <span class="badge badge-verified">
                                        <i class="fas fa-check-circle mr-1"></i> Terverifikasi
                                    </span>
                                    <span class="badge badge-gold">
                                        <i class="fas fa-crown mr-1"></i> Gold Member
                                    </span>
                                </div>
                            </div>

                            <!-- Stats -->
                            <div class="grid grid-cols-3 gap-4 mt-6 pt-6 border-t">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-primary">42</div>
                                    <div class="text-xs text-gray-500">Orders</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-primary">15</div>
                                    <div class="text-xs text-gray-500">Reviews</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-primary">4.8</div>
                                    <div class="text-xs text-gray-500">Rating</div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="mt-6 space-y-3">
                                <button onclick="switchTab('edit')" class="w-full bg-primary text-white py-3 rounded-lg hover:bg-purple-600 transition font-semibold">
                                    <i class="fas fa-edit mr-2"></i> Edit Profile
                                </button>
                                <button onclick="switchTab('security')" class="w-full bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 transition font-semibold">
                                    <i class="fas fa-shield-alt mr-2"></i> Security
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Links -->
                    <div class="bg-white rounded-2xl card-shadow p-6 mt-6">
                        <h3 class="font-bold text-gray-800 mb-4">Quick Links</h3>
                        <div class="space-y-3">
                            <a href="#" class="flex items-center text-gray-600 hover:text-primary transition">
                                <i class="fas fa-shopping-bag w-5"></i>
                                <span class="ml-3">My Orders</span>
                            </a>
                            <a href="#" class="flex items-center text-gray-600 hover:text-primary transition">
                                <i class="fas fa-heart w-5"></i>
                                <span class="ml-3">Wishlist</span>
                            </a>
                            <a href="#" class="flex items-center text-gray-600 hover:text-primary transition">
                                <i class="fas fa-wallet w-5"></i>
                                <span class="ml-3">Payment Methods</span>
                            </a>
                            <a href="#" class="flex items-center text-gray-600 hover:text-primary transition">
                                <i class="fas fa-map-marker-alt w-5"></i>
                                <span class="ml-3">Addresses</span>
                            </a>
                            <a href="#" class="flex items-center text-gray-600 hover:text-primary transition">
                                <i class="fas fa-headset w-5"></i>
                                <span class="ml-3">Help Center</span>
                            </a>
                            <a href="#" onclick="logout(); return false;" class="flex items-center text-red-600 hover:text-primary transition">
                                <i class="fas fa-sign-out-alt text-xl"></i>
                                <span class="ml-3">Logout</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Right Content Area -->
                <div class="lg:col-span-2">
                    <!-- Tabs -->
                    <div class="bg-white rounded-2xl card-shadow">
                        <div class="border-b px-6">
                            <div class="flex gap-8">
                                <button onclick="switchTab('overview')" class="tab-button active py-4 font-semibold" data-tab="overview">
                                    Overview
                                </button>
                                <button onclick="switchTab('edit')" class="tab-button py-4 font-semibold text-gray-500" data-tab="edit">
                                    Edit Profile
                                </button>
                                <button onclick="switchTab('security')" class="tab-button py-4 font-semibold text-gray-500" data-tab="security">
                                    Security
                                </button>
                                <button onclick="switchTab('activity')" class="tab-button py-4 font-semibold text-gray-500" data-tab="activity">
                                    Activity
                                </button>
                            </div>
                        </div>

                        <!-- Tab Content -->
                        <div class="p-6">
                            <!-- Overview Tab -->
                            <div id="overviewTab" class="tab-content">
                                <h3 class="text-2xl font-bold text-gray-800 mb-6">Account Overview</h3>
                                
                                <!-- Stats Cards -->
                                <div class="grid md:grid-cols-3 gap-6 mb-8">
                                    <div class="stat-card bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6">
                                        <div class="flex items-center justify-between">
                                            <div>
                                                <p class="text-gray-600 text-sm">Total Spent</p>
                                                <p class="text-2xl font-bold text-gray-800 mt-1">Rp 12.5M</p>
                                            </div>
                                            <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center">
                                                <i class="fas fa-wallet text-white text-xl"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="stat-card bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6">
                                        <div class="flex items-center justify-between">
                                            <div>
                                                <p class="text-gray-600 text-sm">Completed</p>
                                                <p class="text-2xl font-bold text-gray-800 mt-1">38</p>
                                            </div>
                                            <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-check text-white text-xl"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="stat-card bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-6">
                                        <div class="flex items-center justify-between">
                                            <div>
                                                <p class="text-gray-600 text-sm">Pending</p>
                                                <p class="text-2xl font-bold text-gray-800 mt-1">4</p>
                                            </div>
                                            <div class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-clock text-white text-xl"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Personal Information -->
                                <div class="bg-gray-50 rounded-xl p-6 mb-6">
                                    <h4 class="font-bold text-gray-800 mb-4">Personal Information</h4>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <p class="text-sm text-gray-500">Full Name</p>
                                            <p class="font-semibold text-gray-800">Sarah Amanda</p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-500">Email</p>
                                            <p class="font-semibold text-gray-800">sarah.amanda@email.com</p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-500">Phone Number</p>
                                            <p class="font-semibold text-gray-800">+62 812-3456-7890</p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-500">Date of Birth</p>
                                            <p class="font-semibold text-gray-800">15 Maret 1995</p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-500">Gender</p>
                                            <p class="font-semibold text-gray-800">Female</p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-500">Member Since</p>
                                            <p class="font-semibold text-gray-800">January 2023</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Address -->
                                <div class="bg-gray-50 rounded-xl p-6" id="addressSection">
                                    <h4 class="font-bold text-gray-800 mb-4">üìç Alamat</h4>
                                    <p class="text-gray-700" id="userAddress">Belum ada alamat tersimpan</p>
                                </div>
                            </div>

                            <!-- Edit Profile Tab -->
                            <div id="editTab" class="tab-content hidden">
                                <h3 class="text-2xl font-bold text-gray-800 mb-6">Edit Profile</h3>
                                
                                <form onsubmit="saveProfile(event)" class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div class="input-group">
                                            <input type="text" id="firstName" placeholder=" " 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none"
                                                   value="Sarah">
                                            <label>First Name</label>
                                        </div>

                                        <div class="input-group">
                                            <input type="text" id="lastName" placeholder=" " 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none"
                                                   value="Amanda">
                                            <label>Last Name</label>
                                        </div>
                                    </div>

                                    <div class="input-group">
                                        <input type="email" id="email" placeholder=" " 
                                               class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none"
                                               value="sarah.amanda@email.com">
                                        <label>Email Address</label>
                                    </div>

                                    <div class="input-group">
                                        <input type="tel" id="phone" placeholder=" " 
                                               class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none"
                                               value="+62 812-3456-7890">
                                        <label>Phone Number</label>
                                    </div>

                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div class="input-group">
                                            <input type="date" id="dob" placeholder=" " 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none"
                                                   value="1995-03-15">
                                            <label>Date of Birth</label>
                                        </div>

                                        <div>
                                            <select id="gender" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none">
                                                <option value="">Select Gender</option>
                                                <option value="male">Male</option>
                                                <option value="female" selected>Female</option>
                                                <option value="other">Other</option>
                                            </select>
                                        </div>
                                    </div>

<div class="input-group">
    <textarea id="bio" placeholder=" " rows="4"
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none">Saya seorang profesional yang gemar berbelanja dan berburu promo. Bergabung dengan Promora untuk mendapatkan pengalaman jastip yang menyenangkan!</textarea>
    <label>Bio</label>
</div>

<!-- TAMBAHKAN INI - ALAMAT DENGAN MAPS -->
<div>
    <label class="block text-sm font-semibold text-gray-700 mb-2">Pilih Lokasi Alamat di Maps</label>
    <input type="text" 
        id="mapsSearch" 
        placeholder="Pilih lokasi di peta untuk mendapatkan alamat"
        class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none mb-2">
    <button type="button" 
            onclick="openMapsPicker()" 
            class="text-primary hover:text-purple-600 font-medium flex items-center space-x-2 mb-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>
        <span>Buka Peta & Pilih Lokasi</span>
    </button>
    <div id="mapContainer" class="hidden mt-3 w-full h-64 rounded-lg border-2 border-gray-300"></div>
    <input type="hidden" id="latitude">
    <input type="hidden" id="longitude">
</div>

<div>
    <label class="block text-sm font-semibold text-gray-700 mb-2">Alamat Lengkap <span class="text-xs text-gray-500">(Otomatis dari Maps)</span></label>
    <textarea id="address" 
              rows="3" 
              disabled
              placeholder="Alamat akan terisi otomatis setelah memilih lokasi di peta"
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed"></textarea>
    <p class="text-xs text-gray-500 mt-1">üìç Alamat ini diambil otomatis dari koordinat yang Anda pilih di peta</p>
</div>

                                    <div class="flex gap-4">
                                        <button type="submit" class="flex-1 bg-primary text-white py-3 rounded-lg hover:bg-purple-600 transition font-semibold">
                                            <i class="fas fa-save mr-2"></i> Save Changes
                                        </button>
                                        <button type="button" onclick="cancelEdit()" class="px-8 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold">
                                            Cancel
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- Security Tab -->
                            <div id="securityTab" class="tab-content hidden">
                                <h3 class="text-2xl font-bold text-gray-800 mb-6">Security Settings</h3>
                                
                                <!-- Change Password -->
                                <div class="bg-gray-50 rounded-xl p-6 mb-6">
                                    <h4 class="font-bold text-gray-800 mb-4">Change Password</h4>
                                    <form onsubmit="changePassword(event)" class="space-y-4">
                                        <div class="input-group">
                                            <input type="password" id="currentPassword" placeholder=" " 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none">
                                            <label>Current Password</label>
                                        </div>

                                        <div class="input-group">
                                            <input type="password" id="newPassword" placeholder=" " 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none">
                                            <label>New Password</label>
                                        </div>

                                        <div class="input-group">
                                            <input type="password" id="confirmPassword" placeholder=" " 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none">
                                            <label>Confirm New Password</label>
                                        </div>

                                        <button type="submit" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition font-semibold">
                                            Update Password
                                        </button>
                                    </form>
                                </div>

                                <!-- Two-Factor Authentication -->
                                <div class="bg-gray-50 rounded-xl p-6 mb-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <div>
                                            <h4 class="font-bold text-gray-800">Two-Factor Authentication</h4>
                                            <p class="text-sm text-gray-500">Add an extra layer of security</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="twoFactorToggle" class="sr-only peer" onchange="toggle2FA(this)">
                                            <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                        </label>
                                    </div>
                                </div>

                                <!-- Login Sessions -->
                                <div class="bg-gray-50 rounded-xl p-6">
                                    <h4 class="font-bold text-gray-800 mb-4">Active Sessions</h4>
                                    <div class="space-y-4">
                                        <div class="flex items-center justify-between p-4 bg-white rounded-lg">
                                            <div class="flex items-center gap-4">
                                                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                                                    <i class="fas fa-desktop text-green-600"></i>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-gray-800">Windows ‚Ä¢ Chrome</p>
                                                    <p class="text-sm text-gray-500">Jakarta, Indonesia ‚Ä¢ Active now</p>
                                                </div>
                                            </div>
                                            <span class="text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full">Current</span>
                                        </div>

                                        <div class="flex items-center justify-between p-4 bg-white rounded-lg">
                                            <div class="flex items-center gap-4">
                                                <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
                                                    <i class="fas fa-mobile-alt text-gray-600"></i>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-gray-800">iPhone ‚Ä¢ Safari</p>
                                                    <p class="text-sm text-gray-500">Jakarta, Indonesia ‚Ä¢ 2 hours ago</p>
                                                </div>
                                            </div>
                                            <button onclick="endSession(this)" class="text-red-500 hover:text-red-700 text-sm font-semibold">
                                                End Session
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Activity Tab -->
                            <div id="activityTab" class="tab-content hidden">
    <h3 class="text-2xl font-bold text-gray-800 mb-6">Riwayat Aktivitas</h3>
    
    <div id="activityList" class="space-y-4">
        <!-- Activities akan dimuat secara dinamis -->
        <div class="text-center py-12">
            <i class="fas fa-spinner fa-spin text-4xl text-primary mb-4"></i>
            <p class="text-gray-500">Memuat aktivitas...</p>
        </div>
    </div>
</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-purple-900 text-white py-12">
      <div class="max-w-7xl mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
          <div>
            <a href="index.html" class="flex items-center space-x-2 my-4">
              <div class="flex items-center space-x-2">
                <img
                  class="h-8 flex items-center justify-center"
                  src="./assets/img/Container.png"
                  alt=""
                />
              </div>
            </a>
            <p class="text-purple-200 text-sm">
              Platform digital yang menghubungkan pencari promo dengan jastip
              terpercaya.
            </p>
          </div>

          <div>
            <h4 class="font-bold mb-4">Quick Links</h4>
            <ul class="space-y-2 text-purple-200">
              <li><a href="#" class="hover:text-white">Home</a></li>
              <li><a href="#" class="hover:text-white">Promo</a></li>
              <li><a href="#" class="hover:text-white">Jastip</a></li>
              <li><a href="#" class="hover:text-white">About</a></li>
            </ul>
          </div>

          <div>
            <h4 class="font-bold mb-4">Support</h4>
            <ul class="space-y-2 text-purple-200">
              <li><a href="#" class="hover:text-white">Help Center</a></li>
              <li><a href="#" class="hover:text-white">FAQ</a></li>
              <li>
                <a href="#" class="hover:text-white">Terms & Conditions</a>
              </li>
              <li><a href="#" class="hover:text-white">Contact Us</a></li>
            </ul>
          </div>

          <div>
            <h4 class="font-bold mb-4">Follow Us</h4>
            <div class="flex space-x-4">
              <a
                href="#"
                class="w-10 h-10 bg-purple-800 rounded-lg flex items-center justify-center hover:bg-purple-700"
              >
                <i class="hgi hgi-stroke hgi-instagram"></i>
              </a>
              <a
                href="#"
                class="w-10 h-10 bg-purple-800 rounded-lg flex items-center justify-center hover:bg-purple-700"
              >
                <i class="hgi hgi-stroke hgi-twitter"></i>
              </a>
              <a
                href="#"
                class="w-10 h-10 bg-purple-800 rounded-lg flex items-center justify-center hover:bg-purple-700"
              >
                <i class="hgi hgi-stroke hgi-facebook-02"></i>
              </a>
            </div>
          </div>
        </div>

        <div
          class="border-t border-purple-800 pt-8 text-center text-purple-200 text-sm"
        >
          <p>¬© 2025 Promora ‚Äî All rights reserved</p>
        </div>
      </div>
    </footer>
<script src="./assets/js/profile.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</body>
</html>